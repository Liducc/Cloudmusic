{"ast":null,"code":"import { getIcon } from '@/request/api/home.js';\nimport { reactive, onMounted } from 'vue';\nexport default {\n  setup() {\n    const images = reactive({\n      list: []\n    });\n    onMounted(async () => {\n      try {\n        const res = await getIcon();\n        images.list = res.data.data;\n      } catch (error) {\n        console.error(error);\n      }\n    });\n    return {\n      images\n    };\n    const touchStartX = ref(0);\n    const touchEndX = ref(0);\n    function handleTouchStart(event) {\n      touchStartX.value = event.touches[0].clientX;\n    }\n    function handleTouchEnd(event) {\n      touchEndX.value = event.changedTouches[0].clientX;\n      handleSwipe();\n    }\n    function handleSwipe() {\n      if (touchEndX.value - touchStartX.value > 100) {\n        images.list.forEach((image, index) => {\n          if (index < 5) {\n            images.list[index].hidden = true;\n          } else {\n            images.list[index].hidden = false;\n          }\n        });\n      } else if (touchStartX.value - touchEndX.value > 100) {\n        images.list.forEach((image, index) => {\n          if (index < 5) {\n            images.list[index].hidden = false;\n          } else {\n            images.list[index].hidden = true;\n          }\n        });\n      }\n    }\n    return {\n      images,\n      handleTouchStart,\n      handleTouchEnd\n    };\n  }\n};","map":{"version":3,"names":["getIcon","reactive","onMounted","setup","images","list","res","data","error","console","touchStartX","ref","touchEndX","handleTouchStart","event","value","touches","clientX","handleTouchEnd","changedTouches","handleSwipe","forEach","image","index","hidden"],"sources":["E:\\musicdemo\\Cloudmusic\\cloudmusic-app\\src\\components\\home\\IconList.vue"],"sourcesContent":["<template>\r\n    <div class=\"swipe\" @touchstart=\"handleTouchStart\" @touchend=\"handleTouchEnd\">\r\n        <span v-for=\"(ima, index) in images.list\" :key=\"index\" :class=\"{ hidden: index >= 5 }\">\r\n            <img :src=\"ima.iconUrl\" />\r\n            <p>{{ ima.name }}</p>\r\n        </span>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { getIcon } from '@/request/api/home.js'\r\nimport { reactive, onMounted } from 'vue'\r\n\r\nexport default {\r\n    setup() {\r\n        const images = reactive({\r\n            list: []\r\n        })\r\n\r\n        onMounted(async () => {\r\n            try {\r\n                const res = await getIcon()\r\n                images.list = res.data.data\r\n            } catch (error) {\r\n                console.error(error)\r\n            }\r\n        })\r\n        return { images }\r\n        const touchStartX = ref(0)\r\n        const touchEndX = ref(0)\r\n\r\n        function handleTouchStart(event) {\r\n            touchStartX.value = event.touches[0].clientX\r\n        }\r\n\r\n        function handleTouchEnd(event) {\r\n            touchEndX.value = event.changedTouches[0].clientX\r\n            handleSwipe()\r\n        }\r\n\r\n        function handleSwipe() {\r\n            if (touchEndX.value - touchStartX.value > 100) {\r\n                images.list.forEach((image, index) => {\r\n                    if (index < 5) {\r\n                        images.list[index].hidden = true\r\n                    } else {\r\n                        images.list[index].hidden = false\r\n                    }\r\n                })\r\n            } else if (touchStartX.value - touchEndX.value > 100) {\r\n                images.list.forEach((image, index) => {\r\n                    if (index < 5) {\r\n                        images.list[index].hidden = false\r\n                    } else {\r\n                        images.list[index].hidden = true\r\n                    }\r\n                })\r\n            }\r\n        }\r\n\r\n        return { images, handleTouchStart, handleTouchEnd }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\nimg {\r\n    width: 1rem;\r\n    height: 1rem;\r\n    border-radius: 100%;\r\n    background: rgb(254, 90, 89);\r\n}\r\n\r\n.swipe {\r\n    display: flex;\r\n    overflow-y: auto;\r\n    text-align: center;\r\n}\r\n\r\n.swipe::-webkit-scrollbar {\r\n    display: none;\r\n}\r\n\r\n.swipe span {\r\n    margin: 18px 0px 0px 18px;\r\n}\r\n\r\n.swipe p {\r\n    font-size: 0.1rem;\r\n    align-items: center;\r\n    opacity: 0.7;\r\n}\r\n\r\n.hidden {\r\n    display: none;\r\n}\r\n</style>"],"mappings":"AAUA,SAASA,OAAM,QAAS,uBAAsB;AAC9C,SAASC,QAAQ,EAAEC,SAAQ,QAAS,KAAI;AAExC,eAAe;EACXC,KAAKA,CAAA,EAAG;IACJ,MAAMC,MAAK,GAAIH,QAAQ,CAAC;MACpBI,IAAI,EAAE;IACV,CAAC;IAEDH,SAAS,CAAC,YAAY;MAClB,IAAI;QACA,MAAMI,GAAE,GAAI,MAAMN,OAAO,CAAC;QAC1BI,MAAM,CAACC,IAAG,GAAIC,GAAG,CAACC,IAAI,CAACA,IAAG;MAC9B,EAAE,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAACA,KAAK;MACvB;IACJ,CAAC;IACD,OAAO;MAAEJ;IAAO;IAChB,MAAMM,WAAU,GAAIC,GAAG,CAAC,CAAC;IACzB,MAAMC,SAAQ,GAAID,GAAG,CAAC,CAAC;IAEvB,SAASE,gBAAgBA,CAACC,KAAK,EAAE;MAC7BJ,WAAW,CAACK,KAAI,GAAID,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,CAACC,OAAM;IAC/C;IAEA,SAASC,cAAcA,CAACJ,KAAK,EAAE;MAC3BF,SAAS,CAACG,KAAI,GAAID,KAAK,CAACK,cAAc,CAAC,CAAC,CAAC,CAACF,OAAM;MAChDG,WAAW,CAAC;IAChB;IAEA,SAASA,WAAWA,CAAA,EAAG;MACnB,IAAIR,SAAS,CAACG,KAAI,GAAIL,WAAW,CAACK,KAAI,GAAI,GAAG,EAAE;QAC3CX,MAAM,CAACC,IAAI,CAACgB,OAAO,CAAC,CAACC,KAAK,EAAEC,KAAK,KAAK;UAClC,IAAIA,KAAI,GAAI,CAAC,EAAE;YACXnB,MAAM,CAACC,IAAI,CAACkB,KAAK,CAAC,CAACC,MAAK,GAAI,IAAG;UACnC,OAAO;YACHpB,MAAM,CAACC,IAAI,CAACkB,KAAK,CAAC,CAACC,MAAK,GAAI,KAAI;UACpC;QACJ,CAAC;MACL,OAAO,IAAId,WAAW,CAACK,KAAI,GAAIH,SAAS,CAACG,KAAI,GAAI,GAAG,EAAE;QAClDX,MAAM,CAACC,IAAI,CAACgB,OAAO,CAAC,CAACC,KAAK,EAAEC,KAAK,KAAK;UAClC,IAAIA,KAAI,GAAI,CAAC,EAAE;YACXnB,MAAM,CAACC,IAAI,CAACkB,KAAK,CAAC,CAACC,MAAK,GAAI,KAAI;UACpC,OAAO;YACHpB,MAAM,CAACC,IAAI,CAACkB,KAAK,CAAC,CAACC,MAAK,GAAI,IAAG;UACnC;QACJ,CAAC;MACL;IACJ;IAEA,OAAO;MAAEpB,MAAM;MAAES,gBAAgB;MAAEK;IAAe;EACtD;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}